{% load staticfiles %}
{% load crispy_forms_tags %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="{% static 'img/favicon.ico' %}">

    <title>Student Grounds</title>

    <script src="{% static 'js/jquery-1.11.3.min.js' %}"></script>
    <script src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script src="{% static 'js/jquery-ui.min.js' %}"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.8.18/themes/base/jquery-ui.css" type="text/css" media="all" />
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
  
 
    <link href="{% static 'css/fonts.css' %}" rel="stylesheet">
    <link href="{% static 'css/font-faces.css' %}" rel="stylesheet">
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    <link href='https://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    

    <script>
$(document).bind('drop dragover', function (e) {
     e.preventDefault();
    });

    </script>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66872150-2', 'auto');
  ga('send', 'pageview');

</script>

  
  </head>

<style>
.btn{
  border-radius:.5em;
  width:25%;
}
/* Extra Small */
@media(max-width:767px){
  #column{
   text-align:center;
  }
}

body{
  background-color:#292929;
  
}
body,
h1,
h2,
h3,
h4,
h5,
h6,
p {
    font-family: 'Lato', sans-serif;
    
}
#default-image-form{
  display:none;
}

.divider{
    width:.5em;
    height:auto;
    display:inline-block;
    display:none;
}
.btn{
  border-radius:.5em;
  width:5em;
}
.checkbox{
  color:white;
}
.divider{
    width:.5em;
    height:auto;
    display:inline-block;
    
}

</style>

<body>

<div style='padding:3.25em;color:white;text-align:center;'class='col-lg-12'>

       
          <span style='font-weight:normal;font-size:2em;'>WELCOME TO <b>STUDENT GROUNDS.</b></span>
        <br><br>
        <span style='font-weight:bold;font-size:1.25em;'>Step 3: <i>Are you interested in receiving any of the services below?</span>
</div><br><br>


<form id='want-service' method='POST' action='/want_service/{{ request.user.id }}/'> {% csrf_token %}

<div class='container'>
  <div class='row'>
  

<div id='column' class='col-lg-11 col-md-12 col-sm-12 col-xs-12 col-lg-offset-1 col-md-offset-2 '>

<div class='col-lg-3 col-md-2 col-sm-3 col-xs-12'>
     <b style='font-size:1.25em;color:white;'><i>Professional Services</i></b>

        <div class="checkbox">
      <label><input name='want-check' value='Athletic Trainer' class='want-check' id='athletictrainer' type="checkbox" value="">Athletic Trainer</label>
    </div>

    <div class="checkbox">
      <label><input name='want-check' value='Bartender' class='want-check' id='bartender' type="checkbox" value="">Bartender</label>
    </div>
    <div class="checkbox">
      <label><input name='want-check' value='Chef' class='want-check' id='chef' type="checkbox" value="">Chef</label>
    </div>
      <div class="checkbox">
      <label><input name='want-check' value='Delivery Driver' class='want-check' id='deliverydriver'type="checkbox" value="">Delivery Driver</label>
    </div>
        <div class="checkbox">
      <label><input name='want-check' value='Driver' class='want-check' id='driver' type="checkbox" value="">Driver</label>
    </div>
    

</div><!--col-->
 
 <div class='col-lg-3 col-md-2 col-sm-3 col-xs-12'>
        <b style='font-size:1.25em;color:white;'><i>Dorm Maintenance</i></b>

            <div class="checkbox">
            <label><input name='want-check' value='Cleaning' class='want-check' id='cleaning' type="checkbox" value="">Cleaning</label>
        </div>
        <div class="checkbox">
            <label><input name='want-check' value='Laundry' class='want-check' id='laundry' type="checkbox" value="">Laundry</label>
        </div>
        <div class="checkbox">
          <label><input name='want-check' value='Interior Designer' class='want-check' id='interiordesigner' type="checkbox" value="">Interior Designer</label>
        </div>
        <div class="checkbox">
            <label><input name='want-check' value='Moving' class='want-check' id='moving' type="checkbox" value="">Moving</label>
                  </div>

          </div><!--col-->
    <div class='col-lg-3 col-md-2 col-sm-3 col-xs-12'> 
       <b style='font-size:1.25em;color:white;'><i>Entertainment</i></b>

      <div class="checkbox">
        <label><input name='want-check' value='Musician' class='want-check' id='musician' type="checkbox" value="">Musician</label>
      </div>
      <div class="checkbox">
      <label><input name='want-check' value='D.J.' class='want-check' id='dj' type="checkbox" value="">D.J.</label>
    </div>
    <div class="checkbox">
        <label><input name='want-check' value='Comedian' class='want-check' id='comedian' type="checkbox" value="">Comedian</label>
      </div>
<b style='font-size:1.25em;color:white;'><i>Other</i></b>
<div class="checkbox">
      <label><input name='want-check' value='Odd Jobs' class='want-check' id='oddjobs' type="checkbox" value="">Odd Jobs</label>
    </div>
</div><!--col-->

<div class='col-lg-3 col-md-2 col-sm-3 col-xs-12'>
    <b style='font-size:1.25em;color:white;'><i>Tutoring/Education</i></b>

    <div class="checkbox">
          <label><input name='want-check' value='English'class='want-check' id='english' type="checkbox" value="">English</label>
        </div>
        
        <div class="checkbox">
          <label><input name='want-check' value='History' class='want-check' id='history' type="checkbox" value="">History</label>
        </div>
        <div class="checkbox">
          <label><input name='want-check' value='Business' class='want-check' id='business' type="checkbox" value="">Business</label>
        </div>
        <div class="checkbox">
          <label><input name='want-check' value='Math' class='want-check' id='math' type="checkbox" value="">Math</label>
        </div>
        <div class="checkbox">
          <label><input name='want-check' value='Science' class='want-check' id='science'type="checkbox" value="">Science</label>
        </div>
    <div class="checkbox">
      <label><input name='want-check' value='I.T. Help' class='want-check' id='ithelp' type="checkbox" value="">I.T. Help</label>
    </div>
    
  </div><!--col-->  


</form>

   <form id='want-skip' method='POST' >
{% csrf_token %}

</form>


</div><!--col-11-->



</div><!-- row-->

<br><br>

 <div style='text-align:center;'class='col-lg-12'>

  <input form='want-service' style='border-color:#808080;background-color:#808080;font-style: normal;' id='skip' type='submit' value='Skip' class='btn btn-primary btn-lg' > 
   
   <div class="divider"></div>

    <input style='font-style: normal;'form='want-service' type='submit' value='Next' class='btn btn-primary btn-lg' >
  </div>
</div><!--container-->
  

<script>
$('form').live('submit', function(event) {

    event.preventDefault();
    
    var $form = $(this);
    var id = $form.attr('id');
    var formData = $form.serialize();
    




   if ($form.attr("id") == "want-service"){
    
    
    $.ajax({
        type:'POST',
        url: "/want_service/"+{{ request.user.id }}+"/",
        dataType: "json",
        data:formData,
        
        
        
        success: function (json) {
          

            document.location.href = '/'+{{ request.user.university.id }} + '/home/'

        },
        error: function(data) {
          $(".syl-error").html("All fields are required. Make sure your date is actually a DATE!").fadeIn(2000).fadeOut(6000);
            
        }
    });
    } 


});

function getCookie(name) {
    var cookieValue = null;
    if (document.cookie && document.cookie != '') {
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookie = jQuery.trim(cookies[i]);
            // Does this cookie string begin with the name we want?
            if (cookie.substring(0, name.length + 1) == (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}

var csrftoken = getCookie('csrftoken');

function csrfSafeMethod(method) {
    // these HTTP methods do not require CSRF protection
    return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));

}

function sameOrigin(url) {
    // test that a given url is a same-origin URL
    // url could be relative or scheme relative or absolute
    var host = document.location.host; // host + port
    var protocol = document.location.protocol;
    var sr_origin = '//' + host;
    var origin = protocol + sr_origin;
    // Allow absolute or scheme relative URLs to same origin
    return (url == origin || url.slice(0, origin.length + 1) == origin + '/') ||
        (url == sr_origin || url.slice(0, sr_origin.length + 1) == sr_origin + '/') ||
        // or any other URL that isn't scheme relative or absolute i.e relative.
        !(/^(\/\/|http:|https:).*/.test(url));
}

$.ajaxSetup({
    beforeSend: function(xhr, settings) {
        if (!csrfSafeMethod(settings.type) && sameOrigin(settings.url)) {
            // Send the token to same-origin, relative URLs only.
            // Send the token only if the method warrants CSRF protection
            // Using the CSRFToken value acquired earlier
            xhr.setRequestHeader("X-CSRFToken", csrftoken);
        }
    }
});
</script>
</body>

</html>